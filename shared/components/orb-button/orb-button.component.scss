@use '../../../src/styles/_design-system.scss';

// Base orb-button styles - targeting the p-button directly
.p-button {
  // Override global margin that might be causing issues
  margin: 0 !important;

  // Ensure consistent font family
  font-family: var(--font-family-sans, 'Inter', sans-serif) !important;

  // Remove any conflicting borders from global styles
  border-style: solid !important;

  // Fix span spacing issues
  .p-button-label {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  // Fix icon spacing when icon is present
  &.p-button-icon-only .p-button-icon {
    margin-right: 0 !important;
    margin-left: 0 !important;
  }

  // Fix spacing when both icon and label are present
  .p-button-icon {
    margin-right: 0.25rem !important;
  }

  .p-button-icon + .p-button-label {
    margin-left: 0 !important;
  }

  // Hide empty icon spans completely but not in table buttons
  &:not(.p-button-rounded) .p-button-icon:empty {
    display: none !important;
  }

  // When no icon, ensure label has no left margin
  .p-button-label:first-child {
    margin-left: 0 !important;
  }

  // Custom modifiers
  &.orb-btn--block {
    width: 100% !important;
    display: flex !important;
  }

  &.orb-btn--rounded {
    border-radius: var(--border-radius-full, 50px) !important;
  }

  &.orb-btn--icon-only {
    aspect-ratio: 1 !important;
    min-width: auto !important;
    width: auto !important;
    height: auto !important;

    .p-button-label {
      display: none !important;
    }
  }

  // Ensure circular buttons are perfectly circular
  &.p-button-rounded {
    border-radius: 50% !important;
    aspect-ratio: 1 !important;
    min-width: 32px !important;
    max-width: 32px !important;
    width: 32px !important;
    height: 32px !important;
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;

    .p-button-icon {
      margin: 0 !important;
      font-size: 0.75rem !important;
    }

    .p-button-label {
      display: none !important;
    }
  }

  // Enhanced outlined styles with proper specificity
  &.p-button-outlined {
    background: transparent !important;
    width: max-content !important;

    // Primary outlined
    &.p-button-primary {
      border-color: var(--primary-500, #0ea5e9) !important;
      color: var(--primary-600, #0284c7) !important;

      &:hover:not(:disabled) {
        background: rgba(14, 165, 233, 0.08) !important;
        color: var(--primary-600, #0284c7) !important;
        border-color: var(--primary-500, #0ea5e9) !important;
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2) !important;
      }
    }

    // Secondary outlined
    &.p-button-secondary {
      border-color: var(--gray-400, #94a3b8) !important;
      color: var(--gray-600, #475569) !important;

      &:hover:not(:disabled) {
        background: rgba(100, 116, 139, 0.08) !important;
        color: var(--gray-600, #475569) !important;
        border-color: var(--gray-400, #94a3b8) !important;
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba(100, 116, 139, 0.2) !important;
      }
    }

    // Success outlined
/*     &.p-button-success {
      border-color: var(--success-500, #22c55e) !important;
      color: var(--success-600, #16a34a) !important;

      &:hover:not(:disabled) {
        background: rgba(34, 197, 94, 0.08) !important;
        color: var(--success-600, #16a34a) !important;
        border-color: var(--success-500, #22c55e) !important;
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2) !important;
      }
    } */

    // Info outlined
    &.p-button-info {
      border-color: var(--info-500, #3b82f6) !important;
      color: var(--info-600, #2563eb) !important;

      &:hover:not(:disabled) {
        background: rgba(59, 130, 246, 0.08) !important;
        color: var(--info-600, #2563eb) !important;
        border-color: var(--info-500, #3b82f6) !important;
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2) !important;
      }
    }

    // Warning outlined
    &.p-button-warning {
      border-color: var(--warning-500, #f59e0b) !important;
      color: var(--warning-600, #d97706) !important;

      &:hover:not(:disabled) {
        background: rgba(245, 158, 11, 0.08) !important;
        color: var(--warning-600, #d97706) !important;
        border-color: var(--warning-500, #f59e0b) !important;
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2) !important;
      }
    }

    // Danger outlined
    &.p-button-danger {
      border-color: var(--error-500, #ef4444) !important;
      color: var(--error-600, #dc2626) !important;

      &:hover:not(:disabled) {
        background: rgba(239, 68, 68, 0.08) !important;
        color: var(--error-600, #dc2626) !important;
        border-color: var(--error-500, #ef4444) !important;
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2) !important;
      }
    }

    // Help outlined
    &.p-button-help {
      border-color: #8b5cf6 !important;
      color: #8b5cf6 !important;

      &:hover:not(:disabled) {
        background: rgba(139, 92, 246, 0.08) !important;
        color: #8b5cf6 !important;
        border-color: #8b5cf6 !important;
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2) !important;
      }
    }

    // Contrast outlined
    &.p-button-contrast {
      border-color: var(--gray-700, #334155) !important;
      color: var(--gray-800, #1e293b) !important;

      &:hover:not(:disabled) {
        background: rgba(30, 41, 59, 0.08) !important;
        color: var(--gray-800, #1e293b) !important;
        border-color: var(--gray-700, #334155) !important;
      }

      &:focus {
        box-shadow: 0 0 0 2px rgba(75, 85, 99, 0.2) !important;
      }
    }
  }

  // Fix for regular (non-outlined) buttons
  &:not(.p-button-outlined) {
    // Ensure filled buttons have proper background
    &.p-button-primary {
      background: var(--primary-500, #0ea5e9) !important;
      border-color: var(--primary-500, #0ea5e9) !important;
      color: white !important;
    }

    &.p-button-secondary {
      background: var(--gray-500, #64748b) !important;
      border-color: var(--gray-500, #64748b) !important;
      color: white !important;
    }

    &.p-button-success {
      background: var(--success-500, #22c55e) !important;
      border-color: var(--success-500, #22c55e) !important;
      color: white !important;
    }

    &.p-button-info {
      background: var(--info-500, #3b82f6) !important;
      border-color: var(--info-500, #3b82f6) !important;
      color: white !important;
    }

    &.p-button-warning {
      background: var(--warning-500, #f59e0b) !important;
      border-color: var(--warning-500, #f59e0b) !important;
      color: white !important;
    }

    &.p-button-danger {
      background: var(--error-500, #ef4444) !important;
      border-color: var(--error-500, #ef4444) !important;
      color: white !important;
    }
  }

  // Disabled state
  &:disabled {
    opacity: 0.6 !important;
    cursor: not-allowed !important;

    &:hover {
      transform: none !important;
    }
  }

  // Loading state
  &.p-button-loading {
    pointer-events: none !important;
  }
}

// Fix for table action buttons specifically
.p-datatable .p-datatable-tbody > tr > td {
  .p-button {
    &.p-button-rounded.p-button-text {
      border: 1px solid transparent !important;
      background: transparent !important;
      color: var(--gray-600, #475569) !important;

      &:hover:not(:disabled) {
        background: rgba(100, 116, 139, 0.08) !important;
        border-color: transparent !important;
        color: var(--gray-700, #374151) !important;
      }

      &:focus {
        outline: none !important;
        box-shadow: 0 0 0 2px rgba(100, 116, 139, 0.15) !important;
      }
    }

    // Fix for secondary outlined action buttons - remove border
    &.p-button-outlined.p-button-secondary {
      border-color: transparent !important;
    }

    // Remove margin from table action buttons
    margin: 0 !important;
  }
}