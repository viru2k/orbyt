
// NOTA: PrimeNG v17+ con :host-context o ::ng-deep puede ser delicado con standalone.
// Es mejor usar [ngClass]="{'w-full': true}" o [style]="{width: '100%'}" en el p-dropdown
// o confiar en las clases del contenedor padre (ej. .field en PrimeFlex).
// He añadido 'w-full' a [ngClass] en el HTML para un comportamiento por defecto.

:host {
  display: block;
}

// Aislamiento específico para evitar conflictos en agenda
.orb-isolated-datepicker {
  // Resetear cualquier interferencia de CSS externo
  &.p-calendar,
  &.p-datepicker {
    // Aislar el component completamente
    isolation: isolate;
    
    // Evitar que otros estilos interfieran
    .p-inputtext {
      isolation: isolate;
    }
    
    .p-datepicker {
      isolation: isolate;
      
      // Forzar z-index específico
      z-index: 1050 !important;
    }
  }
}

// Estilos para los diferentes tamaños de calendario
::ng-deep {
  .p-datepicker {
    // Asegurar que el input tenga el ancho correcto
    .p-inputtext {
      text-align: center;
      font-size: 12px !important;
      height: var(--project-input-height) !important;
      line-height: 1.2 !important;
    }

    // Para rangos, centrar el contenido
    &.p-datepicker-range {
      .p-inputtext {
        text-align: left; // Los rangos se ven mejor alineados a la izquierda
      }
    }
  }

  // Reducir tamaño del calendario - selectores más específicos
  .p-datepicker-panel {
    .p-datepicker-header {
      padding: 0.25rem !important;

      .p-datepicker-title {
        .p-datepicker-select-month,
        .p-datepicker-select-year {
          font-size: 0.875rem !important;
          padding: 0.25rem 0.5rem !important;
        }
      }

      .p-datepicker-prev,
      .p-datepicker-next {
        width: 1.75rem !important;
        height: 1.75rem !important;

        svg {
          width: 0.875rem !important;
          height: 0.875rem !important;
        }
      }
    }

    .p-datepicker-calendar-container {
      table {
        font-size: 0.75rem !important;

        thead tr th {
          padding: 0.25rem !important;

          > span {
            font-size: 0.75rem !important;
            font-weight: 600 !important;
          }
        }

        tbody tr td {
          padding: 0.125rem !important;

          > span {
            width: 1.75rem !important;
            height: 1.75rem !important;
            font-size: 0.75rem !important;
            line-height: 1.75rem !important;
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
          }
        }
      }
    }
  }


  
  // Asegurar que no se desborde en pantallas pequeñas
  @media (max-width: 768px) {
    .p-datepicker {
      max-width: 100%;
    }
  }
} 