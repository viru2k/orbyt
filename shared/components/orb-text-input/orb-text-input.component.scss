@use '../../../src/styles/_design-system.scss';

.orb-input {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);

  &--full-width {
    width: 100%;
  }

  // Label
  &__label {
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    color: var(--gray-700);
    line-height: 1.4;
    display: block;
  }

  &__required {
    color: var(--error-500);
    margin-left: var(--space-1);
  }

  // Input Container
  &__container {
    position: relative;
    display: flex;
    align-items: center;
    background: #ffffff;
    border: 2px solid var(--gray-300);
    border-radius: var(--radius-md);
    transition: var(--transition-base);
    overflow: hidden;

    &:focus-within {
      border-color: var(--primary-500);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    // Size variants
    &--sm {
      .orb-input__field {
        padding: var(--space-2) var(--space-3);
        font-size: var(--text-sm);
      }

      .orb-input__icon {
        font-size: var(--text-sm);
      }
    }

    &--md {
      height: var(--project-input-height);

      .orb-input__field {
        padding: var(--space-3) var(--space-4);
        font-size: 14px;
        line-height: 1.2;
      }

      .orb-input__icon {
        font-size: 14px;
      }
    }

    &--lg {
      .orb-input__field {
        padding: var(--space-4) var(--space-5);
        font-size: var(--text-lg);
      }

      .orb-input__icon {
        font-size: var(--text-lg);
      }
    }

    // Variant styles
    &--default {
      background: #ffffff;
      border-color: var(--gray-300);
    }

    &--filled {
      background: var(--gray-50);
      border-color: var(--gray-200);

      .orb-input__field {
        background: transparent;
      }
    }

    &--outlined {
      background: transparent;
      border-color: var(--gray-400);
      border-width: 2px;
    }

    // State modifiers
    &--disabled {
      background: var(--gray-100);
      border-color: var(--gray-200);
      cursor: not-allowed;

      .orb-input__field {
        cursor: not-allowed;
        color: var(--gray-500);
      }

      .orb-input__icon {
        color: var(--gray-400);
      }
    }

    &--readonly {
      background: var(--gray-50);
      border-color: var(--gray-200);

      .orb-input__field {
        cursor: default;
      }
    }

    &--error {
      border-color: var(--error-500);

      &:focus-within {
        border-color: var(--error-500);
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
      }
    }

    // Icon positioning
    &--with-left-icon {
      .orb-input__field {
        padding-left: var(--space-10);
      }
    }

    &--with-right-icon {
      .orb-input__field {
        padding-right: var(--space-10);
      }
    }
  }

  // Input Field
  &__field {
    flex: 1;
    border: none;
    outline: none;
    background: transparent;
    font-family: var(--font-family-sans);
    color: var(--gray-900);
    line-height: 1.5;

    &::placeholder {
      color: var(--gray-400);
    }

    &:disabled {
      cursor: not-allowed;
      color: var(--gray-500);
    }
  }

  // Icons
  &__icon {
    position: absolute;
    color: var(--gray-500);
    pointer-events: none;
    z-index: 1;

    &--left {
      left: var(--space-3);
    }

    &--right {
      right: var(--space-3);
    }
  }

  // Clear Button
  &__clear {
    position: absolute;
    right: var(--space-3);
    background: none;
    border: none;
    padding: var(--space-1);
    color: var(--gray-400);
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: var(--transition-base);
    z-index: 2;

    &:hover {
      color: var(--gray-600);
      background: var(--gray-100);
    }

    &:focus {
      outline: 2px solid var(--primary-300);
      outline-offset: 1px;
    }

    i {
      font-size: var(--text-sm);
    }
  }

  // Helper text
  &__helper {
    margin-top: var(--space-1);
  }

  &__help {
    font-size: var(--text-xs);
    color: var(--gray-600);
    line-height: 1.4;
  }

  &__error {
    font-size: var(--text-xs);
    color: var(--error-600);
    font-weight: var(--font-medium);
    line-height: 1.4;
  }
}